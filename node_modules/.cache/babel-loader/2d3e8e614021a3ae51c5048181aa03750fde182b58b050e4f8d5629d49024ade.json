{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst CartSlice = createSlice({\n  name: 'cart',\n  initialState: {\n    isShown: false,\n    cart: [],\n    total: 0\n  },\n  reducers: {\n    AddToCart(state, action) {\n      state.total = state.total + action.payload.price * action.payload.amount;\n      const existItemIndex = state.cart.findIndex(item => item.id === action.payload.id);\n      const existingItem = state.cart[existItemIndex];\n      if (existingItem) {\n        const updateItem = {\n          ...existingItem,\n          amount: Number(existingItem.amount) + Number(action.item.amount)\n        };\n        state.cart[existItemIndex] = updateItem;\n      } else {\n        state.cart = state.cart.concat(action.payload);\n      }\n    },\n    RemoveFromCart(state, action) {\n      const existItemIndex = state.cart.findIndex(item => item.id === action.payload);\n      const existingItem = state.items[existItemIndex];\n      state.total = state.total - existingItem.price;\n      let updateItem;\n      if (existingItem.amount === 1) {\n        state.cart = state.cart.filter(item => item.id !== action.payload);\n      } else {\n        updateItem = {\n          ...existingItem,\n          amount: Number(existingItem.amount) - 1\n        };\n        state.cart[existItemIndex] = updateItem;\n      }\n    },\n    CartShowHandler(state) {\n      state.isShown = !state.isShown;\n    }\n  }\n});\nexport const cartactions = CartSlice.actions;\nexport default CartSlice.reducer;","map":{"version":3,"names":["createSlice","CartSlice","name","initialState","isShown","cart","total","reducers","AddToCart","state","action","payload","price","amount","existItemIndex","findIndex","item","id","existingItem","updateItem","Number","concat","RemoveFromCart","items","filter","CartShowHandler","cartactions","actions","reducer"],"sources":["C:/Users/mulge/React/Redux async/src/store/cartRducer.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst CartSlice=createSlice({\r\n    name:'cart',\r\n    initialState:{\r\n        isShown:false,cart:[],total:0,\r\n    },\r\n    reducers:{\r\n        AddToCart(state,action){\r\n             state.total = state.total + action.payload.price * action.payload.amount;\r\n        const existItemIndex = state.cart.findIndex(item => item.id === action.payload.id)\r\n        const existingItem = state.cart[existItemIndex];\r\n        if (existingItem) {\r\n            const updateItem = { ...existingItem, amount: Number(existingItem.amount) + Number(action.item.amount) }\r\n            state.cart[existItemIndex] = updateItem;\r\n        } else {\r\n\r\n            state.cart = state.cart.concat(action.payload);\r\n        }\r\n        },\r\n        RemoveFromCart(state,action){\r\n            const existItemIndex = state.cart.findIndex(item => item.id === action.payload)\r\n            const existingItem = state.items[existItemIndex];\r\n            state.total = state.total - existingItem.price;\r\n\r\n            let updateItem;\r\n            if (existingItem.amount === 1) {\r\n                state.cart = state.cart.filter((item) => item.id !== action.payload);\r\n            } else {\r\n    \r\n                updateItem = { ...existingItem, amount: Number(existingItem.amount) - 1 }\r\n                state.cart[existItemIndex] = updateItem;\r\n            }\r\n        },\r\n CartShowHandler(state){\r\n    state.isShown=!state.isShown\r\n }\r\n    }\r\n})\r\nexport const cartactions=CartSlice.actions;\r\nexport default CartSlice.reducer;"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,SAAS,GAACD,WAAW,CAAC;EACxBE,IAAI,EAAC,MAAM;EACXC,YAAY,EAAC;IACTC,OAAO,EAAC,KAAK;IAACC,IAAI,EAAC,EAAE;IAACC,KAAK,EAAC;EAChC,CAAC;EACDC,QAAQ,EAAC;IACLC,SAASA,CAACC,KAAK,EAACC,MAAM,EAAC;MAClBD,KAAK,CAACH,KAAK,GAAGG,KAAK,CAACH,KAAK,GAAGI,MAAM,CAACC,OAAO,CAACC,KAAK,GAAGF,MAAM,CAACC,OAAO,CAACE,MAAM;MAC7E,MAAMC,cAAc,GAAGL,KAAK,CAACJ,IAAI,CAACU,SAAS,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKP,MAAM,CAACC,OAAO,CAACM,EAAE,CAAC;MAClF,MAAMC,YAAY,GAAGT,KAAK,CAACJ,IAAI,CAACS,cAAc,CAAC;MAC/C,IAAII,YAAY,EAAE;QACd,MAAMC,UAAU,GAAG;UAAE,GAAGD,YAAY;UAAEL,MAAM,EAAEO,MAAM,CAACF,YAAY,CAACL,MAAM,CAAC,GAAGO,MAAM,CAACV,MAAM,CAACM,IAAI,CAACH,MAAM;QAAE,CAAC;QACxGJ,KAAK,CAACJ,IAAI,CAACS,cAAc,CAAC,GAAGK,UAAU;MAC3C,CAAC,MAAM;QAEHV,KAAK,CAACJ,IAAI,GAAGI,KAAK,CAACJ,IAAI,CAACgB,MAAM,CAACX,MAAM,CAACC,OAAO,CAAC;MAClD;IACA,CAAC;IACDW,cAAcA,CAACb,KAAK,EAACC,MAAM,EAAC;MACxB,MAAMI,cAAc,GAAGL,KAAK,CAACJ,IAAI,CAACU,SAAS,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKP,MAAM,CAACC,OAAO,CAAC;MAC/E,MAAMO,YAAY,GAAGT,KAAK,CAACc,KAAK,CAACT,cAAc,CAAC;MAChDL,KAAK,CAACH,KAAK,GAAGG,KAAK,CAACH,KAAK,GAAGY,YAAY,CAACN,KAAK;MAE9C,IAAIO,UAAU;MACd,IAAID,YAAY,CAACL,MAAM,KAAK,CAAC,EAAE;QAC3BJ,KAAK,CAACJ,IAAI,GAAGI,KAAK,CAACJ,IAAI,CAACmB,MAAM,CAAER,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKP,MAAM,CAACC,OAAO,CAAC;MACxE,CAAC,MAAM;QAEHQ,UAAU,GAAG;UAAE,GAAGD,YAAY;UAAEL,MAAM,EAAEO,MAAM,CAACF,YAAY,CAACL,MAAM,CAAC,GAAG;QAAE,CAAC;QACzEJ,KAAK,CAACJ,IAAI,CAACS,cAAc,CAAC,GAAGK,UAAU;MAC3C;IACJ,CAAC;IACRM,eAAeA,CAAChB,KAAK,EAAC;MACnBA,KAAK,CAACL,OAAO,GAAC,CAACK,KAAK,CAACL,OAAO;IAC/B;EACG;AACJ,CAAC,CAAC;AACF,OAAO,MAAMsB,WAAW,GAACzB,SAAS,CAAC0B,OAAO;AAC1C,eAAe1B,SAAS,CAAC2B,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}